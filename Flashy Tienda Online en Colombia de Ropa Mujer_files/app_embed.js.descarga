/*! For license information please see app_embed.js.LICENSE.txt */
(()=>{"use strict";function e(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)e[o]=t[o]}return e}var n=function n(t,o){function r(n,r,i){if("undefined"!=typeof document){"number"==typeof(i=e({},o,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),n=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var a in i)i[a]&&(c+="; "+a,!0!==i[a]&&(c+="="+i[a].split(";")[0]));return document.cookie=n+"="+t.write(r,n)+c}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],o={},r=0;r<n.length;r++){var i=n[r].split("="),c=i.slice(1).join("=");try{var a=decodeURIComponent(i[0]);if(o[a]=t.read(c,a),e===a)break}catch(e){}}return e?o[e]:o}},remove:function(n,t){r(n,"",e({},t,{expires:-1}))},withAttributes:function(t){return n(this.converter,e({},this.attributes,t))},withConverter:function(t){return n(e({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),t=n.get("moship-redirect-on-login");window.moshipWholesaleCustomer&&t&&(n.remove("moship-redirect-on-login"),window.location.href=t);var o=new URLSearchParams(window.location.search).get("set-moship-redirect-on-login");o&&n.set("moship-redirect-on-login",o);var r=function(){var e=window.location.pathname;return["/account/login","/account/register"].includes(e)};r()&&(function(){var e=new URLSearchParams(window.location.search).get("email");if(e){var n=document.querySelector('input[name="customer[email]"]');n&&(n.value=e)}}(),function(){var e=new URLSearchParams(window.location.search);if(e.has("next")&&r()){var n=null;if("/account/login"===window.location.pathname)n=document.querySelector("form[action='/account/login']");else{if("/account/register"!==window.location.pathname)throw new Error("Unknown page");n=document.querySelector("form[action='/account']")}if(n){var t=e.get("next")||"",o=document.createElement("input");o.type="hidden",o.name="return_to",o.value=t,n.appendChild(o)}}}())})();